function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,r);if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:r+""}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,i,n,a,s=[],u=!0,A=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(o=n.call(r)).done)&&(s.push(o.value),s.length!==t);u=!0);}catch(e){A=!0,i=e}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(A)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,r){for(var o=0;o<r.length;o++){var i=r[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,t(i.key),i)}}function a(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return u(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e))||t){r&&(e=r);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,n=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw n}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=Array(t);r<t;r++)o[r]=e[r];return o}var A=require("../../extension-support/argument-type"),l=require("../../extension-support/block-type"),p=require("../../util/cast"),c=require("../../io/bt"),g=require("../../util/base64-util"),d=require("../../util/math-util"),m=require("../../util/rateLimiter.js");require("./lib/color");var h,C,E,I=require("./translations.json"),y=function(e){return e.defaultMessage},f="https://cdn.jsdelivr.net/gh/CrispStrobe/scratch-lego-bluetooth-extensions@master/dist/spikeprime_btc.mjs",B=["A","B","C","D","E","F"],R=1,T={front:1,back:2,up:3,down:4,rightside:5,leftside:6},b=["menu_click","menu_fastback","menu_program_start","menu_program_stop","menu_shutdown","startup"],Q={"⚫":0,"🟣":1,"🟪":2,"🔵":3,"🔷":4,"🟢":5,"🟩":6,"🟡":7,"🟠":8,"🔴":9,"⚪":10},v={heart:"960000960960a60960960000960",smile:"760076000078000076000760",sad:"760076000087600076000760",angry:"970079000087600079000970",surprised:"760076000999900076000760",wink:"760070000078000076000760",arrow_up:"060060060686060606000000",arrow_down:"000060606068606060606000",arrow_left:"000060068006000060000000",arrow_right:"000600000680600060000000",check:"000000080000806080000000",x:"970000970000090000970000970",square:"979797900009900099000979797",triangle:"060060606996999999600000",diamond:"060060606906906060000600",plus:"060000600999996060000600",minus:"000000000999999000000000",dot:"000000000000a00000000000000",frame:"979797900009900099000979797",spiral:"979797060000900009000979797"},O={OFF:0,PINK:1,PURPLE:2,BLUE:3,TEAL:4,GREEN:5,LIME:6,YELLOW:7,ORANGE:8,RED:9,WHITE:10,GREY:11},D={sin:"hub.sound.SOUND_SIN",square:"hub.sound.SOUND_SQUARE",triangle:"hub.sound.SOUND_TRIANGLE",sawtooth:"hub.sound.SOUND_SAWTOOTH"},S=function(){return a(function e(){i(this,e),this._speed=75,this._stopMode=R,this._stallDetection=!0},[{key:"speed",get:function(){return this._speed},set:function(e){this._speed=d.clamp(e,-100,100)}},{key:"stopMode",get:function(){return this._stopMode},set:function(e){e>=0&&e<=2&&(this._stopMode=e)}},{key:"stallDetection",get:function(){return this._stallDetection},set:function(e){this._stallDetection=e}}])}(),k=function(){return a(function e(t,r){var o=this;i(this,e),this._runtime=t,this._extensionId=r,this._remainingText="",this._sensors={buttons:[0,0,0,0],angle:{pitch:0,roll:0,yaw:0},acceleration:{x:0,y:0,z:0},accelerationFiltered:{x:0,y:0,z:0},gyro:{x:0,y:0,z:0},gyroFiltered:{x:0,y:0,z:0},orientation:T.front,battery:100,temperature:25,hubTemp:25,gestures:{tapped:!1,doubletapped:!1,shake:!1,freefall:!1},hubStatus:{},motorPositions:{},buttonTiming:{}},this._portValues={},this._pixelBrightness=100,this._motorSettings={A:new S,B:new S,C:new S,D:new S,E:new S,F:new S},this._movementMotors=["A","B"],this._timer={start:Date.now(),current:0},this._volume=100,this._replHistory=[],this._replVariables={},this._replOutput="",this._bt=null,this._runtime.registerPeripheralExtension(r,this),this._runtime.on("PROJECT_STOP_ALL",this.stopAll.bind(this)),this._rateLimiter=new m(40),this.reset=this.reset.bind(this),this._onConnect=this._onConnect.bind(this),this._onMessage=this._onMessage.bind(this),this._openRequests={},this._pythonAvailable=!1,this._sensorLoopRunning=!1,setInterval(function(){o._timer.current=(Date.now()-o._timer.start)/1e3},10)},[{key:"angle",get:function(){return this._sensors.angle}},{key:"orientation",get:function(){return this._sensors.orientation}},{key:"portValues",get:function(){return this._portValues}},{key:"pixelBrightness",get:function(){return this._pixelBrightness},set:function(e){this._pixelBrightness=e}},{key:"motorSettings",get:function(){return this._motorSettings}},{key:"acceleration",get:function(){return this._sensors.acceleration}},{key:"accelerationFiltered",get:function(){return this._sensors.accelerationFiltered}},{key:"gyro",get:function(){return this._sensors.gyro}},{key:"gyroFiltered",get:function(){return this._sensors.gyroFiltered}},{key:"battery",get:function(){return this._sensors.battery}},{key:"temperature",get:function(){return this._sensors.temperature}},{key:"hubTemp",get:function(){return this._sensors.hubTemp}},{key:"gestures",get:function(){return this._sensors.gestures}},{key:"movementMotors",get:function(){return this._movementMotors}},{key:"timer",get:function(){return this._timer.current}},{key:"volume",get:function(){return this._volume}},{key:"replOutput",get:function(){return this._replOutput}},{key:"replHistory",get:function(){return this._replHistory}},{key:"beep",value:function(e,t){}},{key:"stopAll",value:function(){this.stopAllMotors(),this.stopSound()}},{key:"stopSound",value:function(){this.sendPythonCommand("import hub; hub.sound.stop()")}},{key:"stopAllMotors",value:function(){this.sendPythonCommand('import hub; [hub.port[p].motor.stop() for p in "ABCDEF" if hasattr(hub.port[p], "motor")]')}},{key:"scan",value:function(){this._bt&&this._bt.disconnect(),this._bt=new c(this._runtime,this._extensionId,{majorDeviceClass:8,minorDeviceClass:1},this._onConnect,this.reset,this._onMessage)}},{key:"connect",value:function(e){this._bt&&this._bt.connectPeripheral(e)}},{key:"disconnect",value:function(){this._bt&&this._bt.disconnect(),this.reset()}},{key:"reset",value:function(){this._remainingText="",this._sensors={buttons:[0,0,0,0],angle:{pitch:0,roll:0,yaw:0},acceleration:{x:0,y:0,z:0},accelerationFiltered:{x:0,y:0,z:0},gyro:{x:0,y:0,z:0},gyroFiltered:{x:0,y:0,z:0},orientation:T.front,battery:100,temperature:25,hubTemp:25,gestures:{tapped:!1,doubletapped:!1,shake:!1,freefall:!1},hubStatus:{},motorPositions:{},buttonTiming:{}},this._portValues={},this._pythonAvailable=!1,this._sensorLoopRunning=!1,this._timer.start=Date.now(),this._timer.current=0,this._replOutput="",this._replHistory=[],this._replVariables={}}},{key:"isConnected",value:function(){var e=!1;return this._bt&&(e=this._bt.isConnected()),e}},{key:"sendJSON",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=JSON.stringify(e);return this.sendRaw("".concat(r,"\r"),t,e.i)}},{key:"sendRaw",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!this.isConnected())return Promise.resolve();if(r&&!this._rateLimiter.okayToSend())return Promise.resolve();if(!o)return this._bt.sendMessage({message:e});var i=new Promise(function(e,r){t._openRequests[o]={resolve:e,reject:r}});return this._bt.sendMessage({message:e}),i}},{key:"sendCommand",value:function(e,t){if(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]){var r=Math.random().toString(36).slice(-4);return this.sendJSON({i:r,m:e,p:t})}return this.sendJSON({m:e,p:t})}},{key:"sendPythonCommand",value:function(e){return this.sendRaw("".concat(e,"\r\n"))}},{key:"sendReplCommand",value:function(e){this._replHistory.push(e),this._replHistory.length>50&&this._replHistory.shift();var t='\ntry:\n    _result = eval("'.concat(e.replace(/"/g,'\\"'),'")\n    if _result is not None:\n        print(f">>> {_result}")\n    else:\n        exec("').concat(e.replace(/"/g,'\\"'),'")\n        print(">>> Command executed")\nexcept Exception as e:\n    print(f">>> Error: {e}")\n');return this.sendPythonCommand(t)}},{key:"_onConnect",value:function(){var e=this;this.sendRaw(""),setTimeout(function(){e.sendRaw('import hub\r\nprint("PYTHON_AVAILABLE")\r\n'),e.sendCommand("trigger_current_state",{},!1)},250)}},{key:"_initializeContinuousSensorMonitoring",value:function(){if(this._pythonAvailable&&!this._sensorLoopRunning){this._sensorLoopRunning=!0,console.log("Starting continuous sensor monitoring script on hub...");this.sendPythonCommand("\nimport hub, utime, sys\ndef continuous_sensor_loop():\n    while True:\n        try:\n            # Motion sensors\n            yaw_angle, pitch_angle, roll_angle = hub.motion.position()\n            accel_x, accel_y, accel_z = hub.motion.accelerometer()\n            orientation = hub.motion.orientation()\n            # Temperatures\n            battery_temp = hub.battery.temperature()\n            hub_temp = hub.temperature()\n            # Motor data\n            motor_data = {}\n            for port in 'ABCDEF':\n                if hasattr(hub.port[port], 'motor'):\n                    try:\n                        speed, rel_deg, abs_deg, pwm = hub.port[port].motor.get()\n                        motor_data[port] = f\"{speed},{rel_deg},{abs_deg},{pwm}\"\n                    except: pass\n            motor_str = \"|\".join([f\"{k}:{v}\" for k, v in motor_data.items()])\n            # Print data in a single, parseable line\n            print(f\"SENSORS:{yaw_angle},{pitch_angle},{roll_angle}|{accel_x},{accel_y},{accel_z}|{orientation}|{battery_temp},{hub_temp}|{motor_str}\")\n            # Gesture detection\n            for gesture in ['tapped', 'doubletapped', 'shake', 'freefall']:\n                if hub.motion.was_gesture(gesture):\n                    print(f\"GESTURE:{gesture.upper()}\")\n        except Exception as e:\n            pass # Ignore errors in the loop to keep it running\n        utime.sleep_ms(100)\ncontinuous_sensor_loop()\n")}}},{key:"_onMessage",value:function(e){var t=e.message,r=g.base64ToUint8Array(t),o=(new TextDecoder).decode(r),i=(this._remainingText+o).split("\r\n");this._remainingText=i.pop();var n,a=s(i);try{for(a.s();!(n=a.n()).done;){var u=n.value.trim();if(u)try{var A=JSON.parse(u);A.hasOwnProperty("i")||A.m,this._parseResponse(A)}catch(e){this._parseData(u)}}}catch(e){a.e(e)}finally{a.f()}}},{key:"_parseData",value:function(e){var t=this;try{if(e.startsWith("SENSORS:")){var r=e.substring(8).split("|");if(r.length>=5){var i=r[0].split(",").map(parseFloat);3===i.length&&(this._sensors.angle={yaw:i[0],pitch:i[1],roll:i[2]});var n=r[1].split(",").map(parseFloat);3===n.length&&(this._sensors.acceleration={x:n[0],y:n[1],z:n[2]}),this._sensors.orientation=parseInt(r[2],10);var a=r[3].split(",").map(parseFloat);if(a.length>=2&&(this._sensors.temperature=a[0],this._sensors.hubTemp=a[1]),r[4]){var u,A=s(r[4].split("|"));try{for(A.s();!(u=A.n()).done;){var l=o(u.value.split(":"),2),p=l[0],c=l[1];if(p&&c){var g=o(c.split(",").map(parseFloat),4),d=g[0],m=g[1],h=g[2],C=g[3];this._sensors.motorPositions[p]={speed:d,relativePosition:m,absolutePosition:h,power:C}}}}catch(e){A.e(e)}finally{A.f()}}}}else if(e.startsWith("GESTURE:")){var E=e.substring(8).toLowerCase();this._sensors.gestures.hasOwnProperty(E)&&(this._sensors.gestures[E]=!0,setTimeout(function(){t._sensors.gestures[E]=!1},100))}else e.includes("PYTHON_AVAILABLE")?this._pythonAvailable||(this._pythonAvailable=!0,console.log("Python REPL is available on hub."),this._initializeContinuousSensorMonitoring()):e.startsWith(">>>")&&(this._replOutput+=e+"\n",this._replOutput.length>1e3&&(this._replOutput=this._replOutput.substring(this._replOutput.length-1e3)))}catch(t){console.warn("Error parsing raw data:",t,"Data:",e)}}},{key:"_parseResponse",value:function(e){if(e.hasOwnProperty("m"))switch(e.m){case 0:this._parseHubStatus(e);break;case 1:break;case 2:e.p&&e.p.length>=2&&(this._sensors.battery=Math.round(e.p[1]));break;case 3:this._parseButtonEvent(e);break;case 4:this._parseEventResponse(e)}if(e.hasOwnProperty("i")){var t=this._openRequests[e.i];delete this._openRequests[e.i],t&&t.resolve()}}},{key:"_parseHubStatus",value:function(e){for(var t=0;t<6;t++){var r=B[t],o=e.p[t][0],i=e.p[t][1];switch(o){case 48:case 49:this._portValues[r]={type:"motor",speed:i[0],degreesCounted:i[1],position:(i[2]+360)%360,power:i[3],relativePosition:i[1]||0,absolutePosition:i[2]||0};break;case 61:i.length>=4&&(this._portValues[r]={type:"color",color:i[0],reflection:i[1],ambient:i[2],red:i[3]||0,green:i[4]||0,blue:i[5]||0});break;case 62:this._portValues[r]={type:"distance",distance:-1===i[0]?0:i[0]};break;case 63:this._portValues[r]={type:"force",force:i[0],pressed:i[1]>0};break;default:this._portValues[r]={type:"unknown"}}}e.p.length>8&&e.p[8]&&e.p[8].length>=3&&(this._sensors.angle={yaw:e.p[8][0],pitch:e.p[8][1],roll:e.p[8][2]})}},{key:"_parseButtonEvent",value:function(e){if(e.p&&e.p.length>=2){var t=e.p[0],r=1===e.p[1],o={left:0,center:1,right:2}[t];void 0!==o&&(this._sensors.buttons[o]=r?1:0)}}},{key:"_parseEventResponse",value:function(e){var t=this;T.hasOwnProperty(e.p)&&(this._sensors.orientation=T[e.p]);var r={tapped:"tapped",doubletapped:"doubletapped",shake:"shake",freefall:"freefall"};r[e.p]&&(this._sensors.gestures[r[e.p]]=!0,setTimeout(function(){t._sensors.gestures[r[e.p]]=!1},100))}}])}(),x=function(){function e(t){i(this,e),this.runtime=t,this._peripheral=new k(this.runtime,e.EXTENSION_ID),this._playNoteForPicker=this._playNoteForPicker.bind(this),this.runtime.on("PLAY_NOTE",this._playNoteForPicker),t.formatMessage&&(y=t.formatMessage)}return a(e,[{key:"getInfo",value:function(){return function(){try{var e=y.setup();e&&e.translations&&e.translations[e.locale]&&Object.assign(e.translations[e.locale],I[e.locale])}catch(e){}}(),{id:e.EXTENSION_ID,name:y({id:"spikeprime.title",default:"SPIKE Prime Ultimate"}),blockIconURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAYAAACOEfKtAAAABGdBTUEAALGPC/xhBQAAADhlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAAqACAAQAAAABAAAAUKADAAQAAAABAAAAUAAAAAASKG51AAAEUUlEQVR4Ae2cTWgTURDHZxORatUeFLUeqtaThSDFHopQ1HoQhB4LigjWq3pTEbUXK+LHUb2qICrYkwiCF7UUpYdq0UA9iFVbaFXqoWq1CMm6/022SZNsnsmb3X2kM7Dp5s17k5lf5r15KewjEhECQkAICAEhIASEgBBYjAQs7qB7r9zvoLR90rbtNsd2I7f9Ku1NWZY1TDHrat+pA4NV2ig5jBVg76W7Z2yyLpBts9ot6XkVjY5TabKot+/0wYtVDC85hC1QN/NS6efxeDzW2ZGg1kQzraivK/mhYTf+mp2jkeQYPR1MUiqVSlM8tosrE2NswWDaErnwOtpbjIGH+PBFwid8sfARSwxX3GwAs2uem3lcznHbwayAeL5y2F/CYSRrwy0YUU3b77NEt4aIkpMZbxIbiHraiVbX5yLM842tuHECzHka8h3gHe8n+jmX++CB90SvJ4iudS+EmOvBc8c2hXncqc4KMg/w2pqIbh/KXLhHG3RBSk0A9KbtsZ2ZbMO0xT3E02Xe8b/WBEB+LP9vsSYAomBArg8QYT3EhXuIp8u843+tiSKCaouCMTxOdPhODtJKZx8PXZBSEwCx5qHaqrYxQYCsCYAAA4gn9gSBqLzNmlgDy4cYrFYAavKNfgqPFvxDqMX5uV9OKu1fzhaDTjJQE6IAFICaBDSHR78Gqta8wgAr7V84nvm9TGFNoOFloF/1DLpdE5BquGSgipBCLwAVgFRqAagipNCHtwb6Vc+g2xUAdNWSgZoEw8vAoKutn31NQKrhkoEqQgq9AFQAUqkFoIqQQh/eGhh0tfWzrwCgq5YM1CQYXgb6OepXPStt97MfcLtkoCZgASgANQloDo9+DfSrnpW2a4KodrhM4WrJZcdFn4F+AfhVYb/+EbVLBmqCF4ACUJOA5nBz10C/KqwZMPdwmcKaRAWgANQkoDncyDXw1ZsPhOvb9Iwb3to1DbR92xb30oyXfbhRAPFYav+jlzT26cuCQCcmpwnX23efqbtrh1FPghoF0IPXsGo57d3dSpub1rkgP45/pSfPRlyw6NOzv3MB4CjfGFNEMGWReYB39Mg+Smzd6GYanrDEPdqgQx/0NUWMAggoyLxldUuL+KANOogALMJD8wXDm7YlusxPaa+4lOoTdpsxGRh24FyfZwxAbFUgKBh+4um8vn79wmw3BiD2eRBU2z9zf4sYoA06iNe3qFMEDUYBbN60nmZ+/KYbNx9T0tnzYV+IC/dogw59TAJo1D4Qm2RvL/jg4YuifAI89DFJOAFOOYE1ImPyTseoKFaMwyYZ2xRcXrXl+ikH37ICX1mEDSDOpnLOY+nCCUE45EZHgvrdC98g7jlaOg7mjeVbA52DvZzHBtM4XmlwaNRdu/I+J9JbZB58gm/wEYeQcTlU8Kikntlzl++dtdL2efd4JT1TgYx24Zl6+JgX8WI7/s6LW/4KASEgBISAEBACQkAILC4C/wDBL1fytvgQdgAAAABJRU5ErkJggg==",showStatusButton:!0,blocks:[{opcode:"setMovementMotors",text:y({id:"spikeprime.setMovementMotors",default:"set movement motors [PORT_A] and [PORT_B]"}),blockType:l.COMMAND,arguments:{PORT_A:{type:A.STRING,menu:"PORT",defaultValue:"A"},PORT_B:{type:A.STRING,menu:"PORT",defaultValue:"B"}}},{opcode:"moveForward",text:y({id:"spikeprime.moveForward",default:"move [DIRECTION] for [VALUE] [UNIT]"}),blockType:l.COMMAND,arguments:{DIRECTION:{type:A.STRING,menu:"MOVE_DIRECTION",defaultValue:"forward"},VALUE:{type:A.NUMBER,defaultValue:10},UNIT:{type:A.STRING,menu:"MOVE_UNIT",defaultValue:"cm"}}},{opcode:"steer",text:y({id:"spikeprime.steer",default:"start steering [STEERING]"}),blockType:l.COMMAND,arguments:{STEERING:{type:A.NUMBER,defaultValue:50}}},{opcode:"startTank",text:y({id:"spikeprime.startTank",default:"start tank drive left [LEFT_SPEED] right [RIGHT_SPEED]"}),blockType:l.COMMAND,arguments:{LEFT_SPEED:{type:A.NUMBER,defaultValue:50},RIGHT_SPEED:{type:A.NUMBER,defaultValue:50}}},{opcode:"setMovementSpeed",text:y({id:"spikeprime.setMovementSpeed",default:"set movement speed to [SPEED]%"}),blockType:l.COMMAND,arguments:{SPEED:{type:A.NUMBER,defaultValue:50}}},{opcode:"stopMovement",text:y({id:"spikeprime.stopMovement",default:"stop movement"}),blockType:l.COMMAND},"---",{opcode:"motorRunFor",text:y({id:"spikeprime.motorRunFor",default:"[PORT] run [DIRECTION] for [VALUE] [UNIT]"}),blockType:l.COMMAND,arguments:{PORT:{type:A.STRING,menu:"MULTIPLE_PORT",defaultValue:"A"},DIRECTION:{type:A.NUMBER,menu:"DIRECTION",defaultValue:1},VALUE:{type:A.NUMBER,defaultValue:1},UNIT:{type:A.STRING,menu:"MOTOR_UNIT",defaultValue:"rotations"}}},{opcode:"motorRunToPosition",text:y({id:"spikeprime.motorRunToPosition",default:"[PORT] run to position [POSITION] degrees"}),blockType:l.COMMAND,arguments:{PORT:{type:A.STRING,menu:"PORT",defaultValue:"C"},POSITION:{type:A.ANGLE,defaultValue:0}}},{opcode:"motorStart",text:y({id:"spikeprime.motorStart",default:"[PORT] start motor [DIRECTION]"}),blockType:l.COMMAND,arguments:{PORT:{type:A.STRING,menu:"MULTIPLE_PORT",defaultValue:"A"},DIRECTION:{type:A.NUMBER,menu:"DIRECTION",defaultValue:1}}},{opcode:"motorStop",text:y({id:"spikeprime.motorStop",default:"[PORT] stop motor"}),blockType:l.COMMAND,arguments:{PORT:{type:A.STRING,menu:"MULTIPLE_PORT",defaultValue:"A"}}},{opcode:"motorSetSpeed",text:y({id:"spikeprime.motorSetSpeed",default:"[PORT] set speed to [SPEED] %"}),blockType:l.COMMAND,arguments:{PORT:{type:A.STRING,menu:"MULTIPLE_PORT",defaultValue:"A"},SPEED:{type:A.NUMBER,defaultValue:75}}},{opcode:"motorSetStopAction",text:y({id:"spikeprime.motorSetStopAction",default:"[PORT] set stop action to [ACTION]"}),blockType:l.COMMAND,arguments:{PORT:{type:A.STRING,menu:"PORT",defaultValue:"A"},ACTION:{type:A.STRING,menu:"STOP_ACTION",defaultValue:"brake"}}},{opcode:"getPosition",text:y({id:"spikeprime.getPosition",default:"[PORT] position"}),blockType:l.REPORTER,arguments:{PORT:{type:A.STRING,menu:"PORT",defaultValue:"A"}}},{opcode:"getRelativePosition",text:y({id:"spikeprime.getRelativePosition",default:"[PORT] relative position"}),blockType:l.REPORTER,arguments:{PORT:{type:A.STRING,menu:"PORT",defaultValue:"A"}}},{opcode:"getAbsolutePosition",text:y({id:"spikeprime.getAbsolutePosition",default:"[PORT] absolute position"}),blockType:l.REPORTER,arguments:{PORT:{type:A.STRING,menu:"PORT",defaultValue:"A"}}},{opcode:"getSpeed",text:y({id:"spikeprime.getSpeed",default:"[PORT] speed (deg/s)"}),blockType:l.REPORTER,arguments:{PORT:{type:A.STRING,menu:"PORT",defaultValue:"A"}}},{opcode:"resetMotorPosition",text:y({id:"spikeprime.resetMotorPosition",default:"reset [PORT] motor position to [POSITION]"}),blockType:l.COMMAND,arguments:{PORT:{type:A.STRING,menu:"PORT",defaultValue:"A"},POSITION:{type:A.NUMBER,defaultValue:0}}},"---",{opcode:"displayText",text:y({id:"spikeprime.displayText",default:"write [TEXT]"}),blockType:l.COMMAND,arguments:{TEXT:{type:A.STRING,defaultValue:"Hello"}}},{opcode:"displayImage",text:y({id:"spikeprime.displayImage",default:"turn on [MATRIX]"}),blockType:l.COMMAND,arguments:{MATRIX:{type:A.MATRIX,defaultValue:"1101111011000001000101110"}}},{opcode:"displayPattern",text:y({id:"spikeprime.displayPattern",default:"display pattern [PATTERN]"}),blockType:l.COMMAND,arguments:{PATTERN:{type:A.STRING,menu:"DISPLAY_PATTERN",defaultValue:"heart"}}},{opcode:"displayClear",text:y({id:"spikeprime.displayClear",default:"turn off pixels"}),blockType:l.COMMAND},{opcode:"setPixel",text:y({id:"spikeprime.setPixel",default:"set pixel [X] [Y] to [BRIGHTNESS] %"}),blockType:l.COMMAND,arguments:{X:{type:A.NUMBER,defaultValue:3},Y:{type:A.NUMBER,defaultValue:3},BRIGHTNESS:{type:A.NUMBER,defaultValue:100}}},{opcode:"rotateDisplay",text:y({id:"spikeprime.rotateDisplay",default:"rotate display [ANGLE] degrees"}),blockType:l.COMMAND,arguments:{ANGLE:{type:A.STRING,menu:"ROTATION_ANGLE",defaultValue:"90"}}},{opcode:"setCenterButtonColor",text:y({id:"spikeprime.setCenterButtonColor",default:"set center button to [COLOR]"}),blockType:l.COMMAND,arguments:{COLOR:{type:A.STRING,menu:"CENTER_LED_COLOR",defaultValue:"GREEN"}}},"---",{opcode:"getAngle",text:y({id:"spikeprime.getAngle",default:"[AXIS] angle"}),blockType:l.REPORTER,arguments:{AXIS:{type:A.STRING,menu:"AXIS",defaultValue:"pitch"}}},{opcode:"getGyroRate",text:y({id:"spikeprime.getGyroRate",default:"gyro rate [AXIS] (deg/s)"}),blockType:l.REPORTER,arguments:{AXIS:{type:A.STRING,menu:"AXIS",defaultValue:"yaw"}}},{opcode:"getFilteredGyroRate",text:y({id:"spikeprime.getFilteredGyroRate",default:"filtered gyro rate [AXIS] (deg/s)"}),blockType:l.REPORTER,arguments:{AXIS:{type:A.STRING,menu:"AXIS",defaultValue:"yaw"}}},{opcode:"getAcceleration",text:y({id:"spikeprime.getAcceleration",default:"acceleration [AXIS] (milli-g)"}),blockType:l.REPORTER,arguments:{AXIS:{type:A.STRING,menu:"AXIS_XYZ",defaultValue:"x"}}},{opcode:"getFilteredAcceleration",text:y({id:"spikeprime.getFilteredAcceleration",default:"filtered acceleration [AXIS] (milli-g)"}),blockType:l.REPORTER,arguments:{AXIS:{type:A.STRING,menu:"AXIS_XYZ",defaultValue:"x"}}},{opcode:"resetYaw",text:y({id:"spikeprime.resetYaw",default:"reset yaw angle"}),blockType:l.COMMAND},{opcode:"presetYaw",text:y({id:"spikeprime.presetYaw",default:"preset yaw to [ANGLE] degrees"}),blockType:l.COMMAND,arguments:{ANGLE:{type:A.NUMBER,defaultValue:0}}},"---",{opcode:"setMatrix3x3ColorGrid",text:y({id:"spikeprime.setMatrix3x3ColorGrid",default:"set [PORT] 3x3 colors: [P1][P2][P3] [P4][P5][P6] [P7][P8][P9]"}),blockType:l.COMMAND,arguments:{PORT:{type:A.STRING,menu:"PORT",defaultValue:"A"},P1:{type:A.STRING,menu:"MATRIX_COLOR_EMOJI",defaultValue:"🔴"},P2:{type:A.STRING,menu:"MATRIX_COLOR_EMOJI",defaultValue:"⚫"},P3:{type:A.STRING,menu:"MATRIX_COLOR_EMOJI",defaultValue:"🔴"},P4:{type:A.STRING,menu:"MATRIX_COLOR_EMOJI",defaultValue:"🔴"},P5:{type:A.STRING,menu:"MATRIX_COLOR_EMOJI",defaultValue:"🔴"},P6:{type:A.STRING,menu:"MATRIX_COLOR_EMOJI",defaultValue:"🔴"},P7:{type:A.STRING,menu:"MATRIX_COLOR_EMOJI",defaultValue:"⚫"},P8:{type:A.STRING,menu:"MATRIX_COLOR_EMOJI",defaultValue:"🔴"},P9:{type:A.STRING,menu:"MATRIX_COLOR_EMOJI",defaultValue:"⚫"}}},{opcode:"setMatrix3x3BrightnessGrid",text:y({id:"spikeprime.setMatrix3x3BrightnessGrid",default:"set [PORT] 3x3 brightness: [B1][B2][B3] [B4][B5][B6] [B7][B8][B9]"}),blockType:l.COMMAND,arguments:{PORT:{type:A.STRING,menu:"PORT",defaultValue:"A"},B1:{type:A.STRING,menu:"BRIGHTNESS_1_TO_10",defaultValue:"8"},B2:{type:A.STRING,menu:"BRIGHTNESS_1_TO_10",defaultValue:"8"},B3:{type:A.STRING,menu:"BRIGHTNESS_1_TO_10",defaultValue:"8"},B4:{type:A.STRING,menu:"BRIGHTNESS_1_TO_10",defaultValue:"8"},B5:{type:A.STRING,menu:"BRIGHTNESS_1_TO_10",defaultValue:"8"},B6:{type:A.STRING,menu:"BRIGHTNESS_1_TO_10",defaultValue:"8"},B7:{type:A.STRING,menu:"BRIGHTNESS_1_TO_10",defaultValue:"8"},B8:{type:A.STRING,menu:"BRIGHTNESS_1_TO_10",defaultValue:"8"},B9:{type:A.STRING,menu:"BRIGHTNESS_1_TO_10",defaultValue:"8"}}},{opcode:"setMatrix3x3PixelEmoji",text:y({id:"spikeprime.setMatrix3x3PixelEmoji",default:"set [PORT] 3x3 pixel [X],[Y] to [COLOR] brightness [BRIGHTNESS]"}),blockType:l.COMMAND,arguments:{PORT:{type:A.STRING,menu:"PORT",defaultValue:"A"},X:{type:A.NUMBER,defaultValue:2},Y:{type:A.NUMBER,defaultValue:2},COLOR:{type:A.STRING,menu:"MATRIX_COLOR_EMOJI",defaultValue:"🔴"},BRIGHTNESS:{type:A.STRING,menu:"BRIGHTNESS_1_TO_10",defaultValue:"5"}}},{opcode:"setMatrix3x3Custom",text:y({id:"spikeprime.setMatrix3x3Custom",default:"set [PORT] 3x3 custom pattern [PATTERN]"}),blockType:l.COMMAND,arguments:{PORT:{type:A.STRING,menu:"PORT",defaultValue:"A"},PATTERN:{type:A.STRING,defaultValue:"r8 g6 b4\ny7 w9 o5\nm3 v2 .1"}}},{opcode:"generateMatrix3x3Code",text:y({id:"spikeprime.generateMatrix3x3Code",default:"generate 3x3 code for pattern [PATTERN]"}),blockType:l.REPORTER,arguments:{PATTERN:{type:A.STRING,defaultValue:"r8 .1 r8\nr6 r10 r6\n.1 r8 .1"}}},{opcode:"setMatrix3x3SolidColor",text:y({id:"spikeprime.setMatrix3x3SolidColor",default:"set [PORT] 3x3 matrix all [COLOR] brightness [BRIGHTNESS]"}),blockType:l.COMMAND,arguments:{PORT:{type:A.STRING,menu:"PORT",defaultValue:"A"},COLOR:{type:A.STRING,menu:"MATRIX_COLOR_EMOJI",defaultValue:"🔴"},BRIGHTNESS:{type:A.STRING,menu:"BRIGHTNESS_1_TO_10",defaultValue:"5"}}},{opcode:"setMatrix3x3Level",text:y({id:"spikeprime.setMatrix3x3Level",default:"set [PORT] 3x3 battery level to [LEVEL]"}),blockType:l.COMMAND,arguments:{PORT:{type:A.STRING,menu:"PORT",defaultValue:"A"},LEVEL:{type:A.NUMBER,defaultValue:5}}},{opcode:"setMatrix3x3Transition",text:y({id:"spikeprime.setMatrix3x3Transition",default:"set [PORT] 3x3 transition [EFFECT]"}),blockType:l.COMMAND,arguments:{PORT:{type:A.STRING,menu:"PORT",defaultValue:"A"},EFFECT:{type:A.STRING,menu:"MATRIX_3X3_TRANSITION",defaultValue:"none"}}},{opcode:"clearMatrix3x3",text:y({id:"spikeprime.clearMatrix3x3",default:"clear [PORT] 3x3 matrix"}),blockType:l.COMMAND,arguments:{PORT:{type:A.STRING,menu:"PORT",defaultValue:"A"}}},"---",{opcode:"whenGesture",blockType:l.HAT,text:y({id:"spikeprime.whenGesture",default:"when hub [GESTURE]"}),arguments:{GESTURE:{type:A.STRING,menu:"GESTURE",defaultValue:"tapped"}}},{opcode:"isGesture",blockType:l.BOOLEAN,text:y({id:"spikeprime.isGesture",default:"hub [GESTURE]?"}),arguments:{GESTURE:{type:A.STRING,menu:"GESTURE",defaultValue:"tapped"}}},{opcode:"getOrientation",text:y({id:"spikeprime.getOrientation",default:"orientation"}),blockType:l.REPORTER},"---",{opcode:"playHubSound",text:y({id:"spikeprime.playHubSound",default:"play hub sound [SOUND]"}),blockType:l.COMMAND,arguments:{SOUND:{type:A.STRING,menu:"HUB_SOUND",defaultValue:"startup"}}},{opcode:"playBeep",text:y({id:"spikeprime.playBeep",default:"beep [FREQUENCY] Hz for [DURATION] ms"}),blockType:l.COMMAND,arguments:{FREQUENCY:{type:A.NUMBER,defaultValue:440},DURATION:{type:A.NUMBER,defaultValue:500}}},{opcode:"playNote",text:y({id:"spikeprime.playNote",default:"play note [NOTE] for [SECS] seconds"}),blockType:l.COMMAND,arguments:{NOTE:{type:A.NOTE,defaultValue:60},SECS:{type:A.NUMBER,defaultValue:.5}}},{opcode:"playWaveBeep",text:y({id:"spikeprime.playWaveBeep",default:"beep [WAVEFORM] [FREQUENCY] Hz for [DURATION] ms"}),blockType:l.COMMAND,arguments:{WAVEFORM:{type:A.STRING,menu:"WAVEFORM",defaultValue:"sin"},FREQUENCY:{type:A.NUMBER,defaultValue:440},DURATION:{type:A.NUMBER,defaultValue:500}}},{opcode:"setVolume",text:y({id:"spikeprime.setVolume",default:"set volume to [VOLUME]%"}),blockType:l.COMMAND,arguments:{VOLUME:{type:A.NUMBER,defaultValue:100}}},{opcode:"stopSound",text:y({id:"spikeprime.stopSound",default:"stop all sounds"}),blockType:l.COMMAND},"---",{opcode:"getBatteryLevel",text:y({id:"spikeprime.getBatteryLevel",default:"battery level %"}),blockType:l.REPORTER},{opcode:"getBatteryTemperature",text:y({id:"spikeprime.getBatteryTemperature",default:"battery temperature"}),blockType:l.REPORTER},{opcode:"getHubTemperature",text:y({id:"spikeprime.getHubTemperature",default:"hub temperature"}),blockType:l.REPORTER},"---",{opcode:"getTimer",text:y({id:"spikeprime.getTimer",default:"timer"}),blockType:l.REPORTER},{opcode:"resetTimer",text:y({id:"spikeprime.resetTimer",default:"reset timer"}),blockType:l.COMMAND},"---",{opcode:"getDistance",text:y({id:"spikeprime.getDistance",default:"[PORT] distance"}),blockType:l.REPORTER,arguments:{PORT:{type:A.STRING,menu:"PORT",defaultValue:"A"}}},{opcode:"setDistanceLights",text:y({id:"spikeprime.setDistanceLights",default:"set [PORT] distance lights [TL] [TR] [BL] [BR]"}),blockType:l.COMMAND,arguments:{PORT:{type:A.STRING,menu:"PORT",defaultValue:"A"},TL:{type:A.NUMBER,defaultValue:9},TR:{type:A.NUMBER,defaultValue:9},BL:{type:A.NUMBER,defaultValue:9},BR:{type:A.NUMBER,defaultValue:9}}},{opcode:"getColor",text:y({id:"spikeprime.getColor",default:"[PORT] color"}),blockType:l.REPORTER,arguments:{PORT:{type:A.STRING,menu:"PORT",defaultValue:"A"}}},{opcode:"getReflection",text:y({id:"spikeprime.getReflection",default:"[PORT] reflection"}),blockType:l.REPORTER,arguments:{PORT:{type:A.STRING,menu:"PORT",defaultValue:"A"}}},{opcode:"getAmbientLight",text:y({id:"spikeprime.getAmbientLight",default:"[PORT] ambient light"}),blockType:l.REPORTER,arguments:{PORT:{type:A.STRING,menu:"PORT",defaultValue:"A"}}},{opcode:"getForce",text:y({id:"spikeprime.getForce",default:"[PORT] force"}),blockType:l.REPORTER,arguments:{PORT:{type:A.STRING,menu:"PORT",defaultValue:"A"}}},{opcode:"isForceSensorPressed",text:y({id:"spikeprime.isForceSensorPressed",default:"[PORT] force sensor pressed?"}),blockType:l.BOOLEAN,arguments:{PORT:{type:A.STRING,menu:"PORT",defaultValue:"A"}}},{opcode:"whenColor",blockType:l.HAT,text:y({id:"spikeprime.whenColor",default:"when [PORT] sees [COLOR]"}),arguments:{PORT:{type:A.STRING,menu:"PORT",defaultValue:"A"},COLOR:{type:A.STRING,menu:"COLOR",defaultValue:"red"}}},{opcode:"isColor",blockType:l.BOOLEAN,text:y({id:"spikeprime.isColor",default:"[PORT] sees [COLOR]?"}),arguments:{PORT:{type:A.STRING,menu:"PORT",defaultValue:"A"},COLOR:{type:A.STRING,menu:"COLOR",defaultValue:"red"}}},{opcode:"whenForceSensor",blockType:l.HAT,text:y({id:"spikeprime.whenForceSensor",default:"when [PORT] is [STATE]"}),arguments:{PORT:{type:A.STRING,menu:"PORT",defaultValue:"A"},STATE:{type:A.STRING,menu:"FORCE_STATE",defaultValue:"pressed"}}},"---",{opcode:"isButtonPressed",text:y({id:"spikeprime.isButtonPressed",default:"[BUTTON] button pressed?"}),blockType:l.BOOLEAN,arguments:{BUTTON:{type:A.STRING,menu:"BUTTON",defaultValue:"center"}}},{opcode:"whenButtonPressed",blockType:l.HAT,text:y({id:"spikeprime.whenButtonPressed",default:"when [BUTTON] button pressed"}),arguments:{BUTTON:{type:A.STRING,menu:"BUTTON",defaultValue:"center"}}},"---",{opcode:"runReplCommand",text:y({id:"spikeprime.runReplCommand",default:"run Python REPL: [CODE]"}),blockType:l.COMMAND,arguments:{CODE:{type:A.STRING,defaultValue:'print("Hello REPL!")'}}},{opcode:"getReplOutput",text:y({id:"spikeprime.getReplOutput",default:"REPL output"}),blockType:l.REPORTER},{opcode:"clearReplOutput",text:y({id:"spikeprime.clearReplOutput",default:"clear REPL output"}),blockType:l.COMMAND},{opcode:"getReplHistory",text:y({id:"spikeprime.getReplHistory",default:"REPL command [INDEX]"}),blockType:l.REPORTER,arguments:{INDEX:{type:A.NUMBER,defaultValue:-1}}},"---",{opcode:"runPythonCommand",text:y({id:"spikeprime.runPythonCommand",default:"run Python: [CODE]"}),blockType:l.COMMAND,arguments:{CODE:{type:A.STRING,defaultValue:'print("Hello World")'}}},{opcode:"runHubCommand",text:y({id:"spikeprime.runHubCommand",default:"run hub command: [CODE]"}),blockType:l.COMMAND,arguments:{CODE:{type:A.STRING,defaultValue:"hub.status()"}}},{opcode:"exitScript",text:y({id:"spikeprime.exitScript",default:"exit Python script"}),blockType:l.COMMAND}],menus:{PORT:{acceptReporters:!0,items:B},MULTIPLE_PORT:{acceptReporters:!0,items:["A","B","C","D","E","F","A+B","C+D","E+F","A+B+C+D+E+F"]},MOTOR_UNIT:{acceptReporters:!1,items:[{text:y({id:"spikeprime.menu.moveUnit.rotations",default:"rotations"}),value:"rotations"},{text:y({id:"spikeprime.menu.moveUnit.degrees",default:"degrees"}),value:"degrees"},{text:y({id:"spikeprime.menu.moveUnit.seconds",default:"seconds"}),value:"seconds"}]},AXIS:{acceptReporters:!1,items:[{text:y({id:"spikeprime.menu.axis.pitch",default:"pitch"}),value:"pitch"},{text:y({id:"spikeprime.menu.axis.roll",default:"roll"}),value:"roll"},{text:y({id:"spikeprime.menu.axis.yaw",default:"yaw"}),value:"yaw"}]},AXIS_XYZ:{acceptReporters:!1,items:["x","y","z"]},DIRECTION:{acceptReporters:!1,items:[{text:"⬆️",value:"1"},{text:"⬇️",value:"-1"}]},DISPLAY_PATTERN:{acceptReporters:!1,items:Object.keys(v)},ROTATION_ANGLE:{acceptReporters:!1,items:["90","-90","180","-180"]},CENTER_LED_COLOR:{acceptReporters:!1,items:Object.keys(O)},GESTURE:{acceptReporters:!1,items:[{text:y({id:"spikeprime.menu.gesture.tapped",default:"tapped"}),value:"tapped"},{text:y({id:"spikeprime.menu.gesture.doubletapped",default:"doubletapped"}),value:"doubletapped"},{text:y({id:"spikeprime.menu.gesture.shake",default:"shake"}),value:"shake"},{text:y({id:"spikeprime.menu.gesture.freefall",default:"freefall"}),value:"freefall"}]},HUB_SOUND:{acceptReporters:!1,items:b},WAVEFORM:{acceptReporters:!1,items:[{text:y({id:"spikeprime.menu.waveform.sin",default:"sin"}),value:"sin"},{text:y({id:"spikeprime.menu.waveform.square",default:"square"}),value:"square"},{text:y({id:"spikeprime.menu.waveform.triangle",default:"triangle"}),value:"triangle"},{text:y({id:"spikeprime.menu.waveform.sawtooth",default:"sawtooth"}),value:"sawtooth"}]},BUTTON:{acceptReporters:!1,items:[{text:y({id:"spikeprime.menu.button.left",default:"left"}),value:"left"},{text:y({id:"spikeprime.menu.button.center",default:"center"}),value:"center"},{text:y({id:"spikeprime.menu.button.right",default:"right"}),value:"right"},{text:y({id:"spikeprime.menu.button.connect",default:"connect"}),value:"connect"}]},MOVE_DIRECTION:{acceptReporters:!1,items:[{text:y({id:"spikeprime.menu.direction.forward",default:"forward"}),value:"forward"},{text:y({id:"spikeprime.menu.direction.backward",default:"backward"}),value:"backward"}]},MOVE_UNIT:{acceptReporters:!1,items:[{text:y({id:"spikeprime.menu.moveUnit.cm",default:"cm"}),value:"cm"},{text:y({id:"spikeprime.menu.moveUnit.in",default:"in"}),value:"in"},{text:y({id:"spikeprime.menu.moveUnit.rotations",default:"rotations"}),value:"rotations"},{text:y({id:"spikeprime.menu.moveUnit.degrees",default:"degrees"}),value:"degrees"},{text:y({id:"spikeprime.menu.moveUnit.seconds",default:"seconds"}),value:"seconds"}]},STOP_ACTION:{acceptReporters:!1,items:[{text:y({id:"spikeprime.menu.stopAction.coast",default:"coast"}),value:"coast"},{text:y({id:"spikeprime.menu.stopAction.brake",default:"brake"}),value:"brake"},{text:y({id:"spikeprime.menu.stopAction.hold",default:"hold"}),value:"hold"}]},COLOR:{acceptReporters:!0,items:[{text:y({id:"spikeprime.menu.color.red",default:"red"}),value:"red"},{text:y({id:"spikeprime.menu.color.green",default:"green"}),value:"green"},{text:y({id:"spikeprime.menu.color.blue",default:"blue"}),value:"blue"},{text:y({id:"spikeprime.menu.color.yellow",default:"yellow"}),value:"yellow"},{text:y({id:"spikeprime.menu.color.cyan",default:"cyan"}),value:"cyan"},{text:y({id:"spikeprime.menu.color.magenta",default:"magenta"}),value:"magenta"},{text:y({id:"spikeprime.menu.color.white",default:"white"}),value:"white"},{text:y({id:"spikeprime.menu.color.black",default:"black"}),value:"black"}]},FORCE_STATE:{acceptReporters:!1,items:[{text:y({id:"spikeprime.menu.forceState.pressed",default:"pressed"}),value:"pressed"},{text:y({id:"spikeprime.menu.forceState.hardPressed",default:"hard pressed"}),value:"hard pressed"},{text:y({id:"spikeprime.menu.forceState.released",default:"released"}),value:"released"}]},MATRIX_COLOR_EMOJI:{acceptReporters:!1,items:[{text:"⚫ Off",value:"⚫"},{text:"🟣 Magenta",value:"🟣"},{text:"🟪 Violet",value:"🟪"},{text:"🔵 Blue",value:"🔵"},{text:"🔷 Turquoise",value:"🔷"},{text:"🟢 Mint",value:"🟢"},{text:"🟩 Green",value:"🟩"},{text:"🟡 Yellow",value:"🟡"},{text:"🟠 Orange",value:"🟠"},{text:"🔴 Red",value:"🔴"},{text:"⚪ White",value:"⚪"}]},BRIGHTNESS_1_TO_10:{acceptReporters:!1,items:["1","2","3","4","5","6","7","8","9","10"]},MATRIX_3X3_TRANSITION:{acceptReporters:!1,items:["none","fade","slide"]}}}}},{key:"moveForward",value:function(e){var t=p.toString(e.DIRECTION),r=p.toNumber(e.VALUE),i=p.toString(e.UNIT),n=o(this._peripheral._movementMotors,2),a=n[0];n[1];var s=this._peripheral.motorSettings[a].speed,u="forward"===t?1:-1;if("cm"===i){var A=r/17.6;return this._peripheral.sendPythonCommand("motors.move(".concat(A*u,", 'rotations', speed=").concat(s,")"))}if("in"===i){var l=r/6.93;return this._peripheral.sendPythonCommand("motors.move(".concat(l*u,", 'rotations', speed=").concat(s,")"))}return this._peripheral.sendPythonCommand("motors.move(".concat(r*u,", '").concat(i,"', speed=").concat(s,")"))}},{key:"steer",value:function(e){var t=p.toNumber(e.STEERING),r=o(this._peripheral._movementMotors,1)[0],i=this._peripheral.motorSettings[r].speed;return this._peripheral.sendPythonCommand("motors.start(".concat(t,", speed=").concat(i,")"))}},{key:"startTank",value:function(e){var t=p.toNumber(e.LEFT_SPEED),r=p.toNumber(e.RIGHT_SPEED);return this._peripheral.sendPythonCommand("motors.start_tank(".concat(t,", ").concat(r,")"))}},{key:"setMovementSpeed",value:function(e){var t=p.toNumber(e.SPEED),r=o(this._peripheral._movementMotors,2),i=r[0],n=r[1];return this._peripheral.motorSettings[i].speed=t,this._peripheral.motorSettings[n].speed=t,this._peripheral.sendPythonCommand("motors.set_default_speed(".concat(t,")"))}},{key:"stopMovement",value:function(){return this._peripheral.sendPythonCommand("motors.stop()")}},{key:"motorRunFor",value:function(e){var t=e.DIRECTION,r=p.toNumber(e.VALUE),o=e.UNIT,i=this._validatePorts(p.toString(e.PORT));switch(o){case"rotations":return this._motorRunForDegrees(i,t,360*r);case"degrees":return this._motorRunForDegrees(i,t,r);case"seconds":return this._motorRunTimed(i,t,r);default:return Promise.resolve()}}},{key:"motorRunToPosition",value:function(e){var t=p.toString(e.PORT).trim().toUpperCase(),r=p.toNumber(e.POSITION),o=this._peripheral.motorSettings[t].speed;return this._peripheral.sendPythonCommand("hub.port.".concat(t,".motor.run_to_position(").concat(r,", speed=").concat(o,")"))}},{key:"_motorRunForDegrees",value:function(e,t,r){var o=this,i=e.map(function(e){var i=o._peripheral.motorSettings[e],n=o._peripheral.sendCommand("scratch.motor_run_for_degrees",{port:e,speed:i.speed*t,degrees:Math.floor(r),stop:i.stopMode,stall:i.stallDetection}),a=o._peripheral.sendPythonCommand("import hub; hub.port.".concat(e,".motor.run_for_degrees(").concat(Math.floor(r),", ").concat(i.speed*t,")"));return n.catch(function(){return a})});return Promise.all(i).then(function(){})}},{key:"_motorRunTimed",value:function(e,t,r){var o=this,i=e.map(function(e){var i=o._peripheral.motorSettings[e],n=o._peripheral.sendCommand("scratch.motor_run_timed",{port:e,speed:i.speed*t,time:Math.floor(1e3*r),stop:i.stopMode,stall:i.stallDetection}),a=o._peripheral.sendPythonCommand("import hub; hub.port.".concat(e,".motor.run_for_time(").concat(Math.floor(1e3*r),", ").concat(i.speed*t,")"));return n.catch(function(){return a})});return Promise.all(i).then(function(){})}},{key:"motorStart",value:function(e){var t=this,r=e.DIRECTION,o=this._validatePorts(p.toString(e.PORT)).map(function(e){var o=t._peripheral.motorSettings[e],i=t._peripheral.sendCommand("scratch.motor_start",{port:e,speed:o.speed*r,stall:o.stallDetection}),n=t._peripheral.sendPythonCommand("import hub; hub.port.".concat(e,".motor.pwm(").concat(Math.round(o.speed*r),")"));return i.catch(function(){return n})});return Promise.all(o).then(function(){})}},{key:"motorStop",value:function(e){var t=this,r=this._validatePorts(p.toString(e.PORT)).map(function(e){var r=t._peripheral.motorSettings[e],o=t._peripheral.sendCommand("scratch.motor_stop",{port:e,stop:r.stopMode}),i=t._peripheral.sendPythonCommand("import hub; hub.port.".concat(e,".motor.stop()"));return o.catch(function(){return i})});return Promise.all(r).then(function(){})}},{key:"motorSetSpeed",value:function(e){var t=this,r=p.toNumber(e.SPEED);this._validatePorts(p.toString(e.PORT)).forEach(function(e){t._peripheral.motorSettings[e].speed=r})}},{key:"motorSetStopAction",value:function(e){var t=p.toString(e.PORT).trim().toUpperCase(),r=p.toString(e.ACTION);return this._peripheral.motorSettings[t].stopMode={coast:0,brake:1,hold:2}[r]||1,this._peripheral.sendPythonCommand("hub.port.".concat(t,".motor.set_stop_action('").concat(r,"')"))}},{key:"getPosition",value:function(e){var t,r,o=p.toString(e.PORT).trim().toUpperCase();return null!==(t=null===(r=this._peripheral.portValues[o])||void 0===r?void 0:r.position)&&void 0!==t?t:0}},{key:"getRelativePosition",value:function(e){var t,r,o=p.toString(e.PORT).trim().toUpperCase(),i=this._peripheral._sensors.motorPositions[o];return i?i.relativePosition:null!==(t=null===(r=this._peripheral.portValues[o])||void 0===r?void 0:r.relativePosition)&&void 0!==t?t:0}},{key:"getAbsolutePosition",value:function(e){var t,r,o=p.toString(e.PORT).trim().toUpperCase(),i=this._peripheral._sensors.motorPositions[o];return i?i.absolutePosition:null!==(t=null===(r=this._peripheral.portValues[o])||void 0===r?void 0:r.absolutePosition)&&void 0!==t?t:0}},{key:"getSpeed",value:function(e){var t,r,o=p.toString(e.PORT).trim().toUpperCase(),i=this._peripheral._sensors.motorPositions[o];if(i)return Math.round(9.3*i.speed);var n=null!==(t=null===(r=this._peripheral.portValues[o])||void 0===r?void 0:r.speed)&&void 0!==t?t:0;return Math.round(9.3*n)}},{key:"resetMotorPosition",value:function(e){var t=p.toString(e.PORT).trim().toUpperCase(),r=p.toNumber(e.POSITION);return this._peripheral.sendPythonCommand("import hub; hub.port.".concat(t,".motor.preset(").concat(r,")"))}},{key:"displayText",value:function(e){var t=p.toString(e.TEXT),r=this._peripheral.sendCommand("scratch.display_text",{text:t}),o=this._peripheral.sendPythonCommand('import hub; hub.display.show("'.concat(t.replace(/"/g,'\\"'),'")'));return r.catch(function(){return o})}},{key:"displayImage",value:function(e){var t=p.toString(e.MATRIX),r=Math.round(9*this._peripheral.pixelBrightness/100),o=(t.replace(/\D/g,"")+"0".repeat(25)).slice(0,25),i=o.replace(/1/g,r).match(/.{5}/g).join(":"),n=this._peripheral.sendCommand("scratch.display_image",{image:i}),a=o.replace(/1/g,"9").replace(/0/g,"_").match(/.{5}/g).join(":"),s=this._peripheral.sendPythonCommand('import hub; hub.display.show(hub.Image("'.concat(a,'"))'));return n.catch(function(){return s})}},{key:"displayPattern",value:function(e){var t=p.toString(e.PATTERN),r=v[t];return r?this.displayImage({MATRIX:r}):Promise.resolve()}},{key:"displayClear",value:function(){var e=this._peripheral.sendCommand("scratch.display_clear",{}),t=this._peripheral.sendPythonCommand('import hub; hub.display.show(" ")');return e.catch(function(){return t})}},{key:"setPixel",value:function(e){var t=p.toNumber(e.X)-1,r=p.toNumber(e.Y)-1,o=p.toNumber(e.BRIGHTNESS);if(t<0||t>4||r<0||r>4)return Promise.resolve();var i=this._peripheral.sendCommand("scratch.display_set_pixel",{x:t,y:r,brightness:Math.round(9*o/100)}),n=this._peripheral.sendPythonCommand("import hub; hub.display.pixel(".concat(t,", ").concat(r,", ").concat(Math.round(9*o/100),")"));return i.catch(function(){return n})}},{key:"rotateDisplay",value:function(e){var t=p.toString(e.ANGLE);return this._peripheral.sendPythonCommand("import hub; hub.display.rotation(".concat(t,")"))}},{key:"setCenterButtonColor",value:function(e){var t=p.toString(e.COLOR),r=O[t]||0,o=this._peripheral.sendCommand("scratch.center_button_lights",{color:r}),i=this._peripheral.sendPythonCommand("import hub; hub.led(".concat(r,")"));return o.catch(function(){return i})}},{key:"getAngle",value:function(e){var t=p.toString(e.AXIS);return this._peripheral.angle[t]||0}},{key:"getGyroRate",value:function(e){var t=p.toString(e.AXIS);return this._peripheral.gyro[t]||0}},{key:"getFilteredGyroRate",value:function(e){var t=p.toString(e.AXIS);return this._peripheral.gyroFiltered[t]||0}},{key:"getAcceleration",value:function(e){var t=p.toString(e.AXIS);return this._peripheral.acceleration[t]||0}},{key:"getFilteredAcceleration",value:function(e){var t=p.toString(e.AXIS);return this._peripheral.accelerationFiltered[t]||0}},{key:"resetYaw",value:function(){return this._peripheral._timer.start=Date.now(),this._peripheral.sendPythonCommand("import hub; hub.motion.reset_yaw()")}},{key:"presetYaw",value:function(e){var t=p.toNumber(e.ANGLE);return this._peripheral.sendPythonCommand("import hub; hub.motion.preset_yaw(".concat(t,")"))}},{key:"setMatrix3x3ColorGrid",value:function(e){var t=p.toString(e.PORT).trim().toUpperCase(),r=["P1","P2","P3","P4","P5","P6","P7","P8","P9"].map(function(t){var r=p.toString(e[t]);return 80+(Q[r]||0)}).map(function(e){return"\\x".concat(e.toString(16).padStart(2,"0"))}).join("");return this._peripheral.sendPythonCommand("import hub; matrix = hub.port.".concat(t,'.device; matrix.mode(2); matrix.mode(2, b"').concat(r,'")'))}},{key:"setMatrix3x3BrightnessGrid",value:function(e){var t=p.toString(e.PORT).trim().toUpperCase(),r=["B1","B2","B3","B4","B5","B6","B7","B8","B9"].map(function(t){return 16*d.clamp(p.toNumber(e[t]),1,10)+9}).map(function(e){return"\\x".concat(e.toString(16).padStart(2,"0"))}).join("");return this._peripheral.sendPythonCommand("import hub; matrix = hub.port.".concat(t,'.device; matrix.mode(2); matrix.mode(2, b"').concat(r,'")'))}},{key:"setMatrix3x3PixelEmoji",value:function(e){var t=p.toString(e.PORT).trim().toUpperCase(),r=d.clamp(p.toNumber(e.X)-1,0,2),o=d.clamp(p.toNumber(e.Y)-1,0,2),i=p.toString(e.COLOR),n=16*d.clamp(p.toNumber(e.BRIGHTNESS),1,10)+(Q[i]||0),a=3*o+r,s="\nimport hub\nmatrix = hub.port.".concat(t,".device\nmatrix.mode(2)\n# Create array with current values (or default to off)\ncurrent = [0x01] * 9  # Default: off with brightness 1\ncurrent[").concat(a,"] = 0x").concat(n.toString(16).padStart(2,"0"),"\n# Convert to byte string and send\nbyte_string = bytes(current)\nmatrix.mode(2, byte_string)\n");return this._peripheral.sendPythonCommand(s)}},{key:"setMatrix3x3SolidColor",value:function(e){var t=p.toString(e.PORT).trim().toUpperCase(),r=p.toString(e.COLOR),o=16*d.clamp(p.toNumber(e.BRIGHTNESS),1,10)+(Q[r]||0),i=Array(9).fill(o).map(function(e){return"\\x".concat(e.toString(16).padStart(2,"0"))}).join("");return this._peripheral.sendPythonCommand("import hub; matrix = hub.port.".concat(t,'.device; matrix.mode(2); matrix.mode(2, b"').concat(i,'")'))}},{key:"setMatrix3x3Visual",value:function(e){var t=p.toString(e.PORT).trim().toUpperCase(),r=["R1C1","R1C2","R1C3","R2C1","R2C2","R2C3","R3C1","R3C2","R3C3"].map(function(t){return p.toString(e[t])||".1"}).join(" ");return this.setMatrix3x3Custom({PORT:t,PATTERN:r})}},{key:"generateMatrix3x3Code",value:function(e){var t=p.toString(e.PATTERN),r={".":0,m:1,v:2,b:3,t:4,n:5,g:6,y:7,o:8,r:9,w:10};try{var o,i=t.split(/\n|\|/),n=[],a=s(i);try{for(a.s();!(o=a.n()).done;){var u,A=s(o.value.trim().split(/\s+/));try{for(A.s();!(u=A.n()).done;){var l=u.value;if(l.length>=2){var c=l.charAt(0).toLowerCase(),g=l.substring(1),d=void 0!==r[c]?r[c]:0,m=Math.max(1,Math.min(10,parseInt(g)||1));n.push(16*m+d)}}}catch(e){A.e(e)}finally{A.f()}}}catch(e){a.e(e)}finally{a.f()}for(;n.length<9;)n.push(1);n.splice(9);var h=n.map(function(e){return"\\x".concat(e.toString(16).padStart(2,"0"))}).join("");return'hub.port.A.device.mode(2, b"'.concat(h,'")')}catch(e){return"Error parsing pattern"}}},{key:"setMatrix3x3Simple",value:function(e){var t=p.toString(e.PORT).trim().toUpperCase(),r=["R1C1","R1C2","R1C3","R2C1","R2C2","R2C3","R3C1","R3C2","R3C3"].map(function(t){return p.toString(e[t])||".1"}).join(" ");return this.setMatrix3x3Custom({PORT:t,PATTERN:r})}},{key:"setMatrix3x3Custom",value:function(e){var t=p.toString(e.PORT).trim().toUpperCase(),r=p.toString(e.PATTERN),o={".":0,m:1,v:2,b:3,t:4,n:5,g:6,y:7,o:8,r:9,w:10};try{var i,n=r.split(/\n|\|/),a=[],u=s(n);try{for(u.s();!(i=u.n()).done;){var A,l=s(i.value.trim().split(/\s+/));try{for(l.s();!(A=l.n()).done;){var c=A.value;if(c.length>=2){var g=c.charAt(0).toLowerCase(),d=c.substring(1),m=void 0!==o[g]?o[g]:0,h=Math.max(1,Math.min(10,parseInt(d)||1));a.push(16*h+m)}}}catch(e){l.e(e)}finally{l.f()}}}catch(e){u.e(e)}finally{u.f()}for(;a.length<9;)a.push(1);a.splice(9);var C=a.map(function(e){return"\\x".concat(e.toString(16).padStart(2,"0"))}).join("");return this._peripheral.sendPythonCommand("import hub; matrix = hub.port.".concat(t,'.device; matrix.mode(2); matrix.mode(2, b"').concat(C,'")'))}catch(e){return console.warn("Error parsing 3x3 pattern:",e),this._peripheral.sendPythonCommand("import hub; matrix = hub.port.".concat(t,'.device; matrix.mode(2); matrix.mode(2, b"\\x01\\x01\\x01\\x01\\x01\\x01\\x01\\x01\\x01")'))}}},{key:"setMatrix3x3Pattern",value:function(e){var t=p.toString(e.PORT).trim().toUpperCase(),r={heart:[{color:9,brightness:8},{color:0,brightness:1},{color:9,brightness:8},{color:9,brightness:6},{color:9,brightness:10},{color:9,brightness:6},{color:0,brightness:1},{color:9,brightness:8},{color:0,brightness:1}],smile:[{color:7,brightness:6},{color:0,brightness:1},{color:7,brightness:6},{color:0,brightness:1},{color:7,brightness:8},{color:0,brightness:1},{color:7,brightness:6},{color:0,brightness:1},{color:7,brightness:6}],star:[{color:0,brightness:1},{color:7,brightness:8},{color:0,brightness:1},{color:7,brightness:6},{color:7,brightness:10},{color:7,brightness:6},{color:0,brightness:1},{color:7,brightness:8},{color:0,brightness:1}],arrow_up:[{color:0,brightness:1},{color:6,brightness:8},{color:0,brightness:1},{color:6,brightness:6},{color:6,brightness:8},{color:6,brightness:6},{color:0,brightness:1},{color:6,brightness:6},{color:0,brightness:1}],arrow_down:[{color:0,brightness:1},{color:3,brightness:6},{color:0,brightness:1},{color:3,brightness:6},{color:3,brightness:8},{color:3,brightness:6},{color:0,brightness:1},{color:3,brightness:8},{color:0,brightness:1}],arrow_left:[{color:0,brightness:1},{color:8,brightness:6},{color:0,brightness:1},{color:8,brightness:8},{color:8,brightness:6},{color:0,brightness:1},{color:0,brightness:1},{color:8,brightness:6},{color:0,brightness:1}],arrow_right:[{color:0,brightness:1},{color:8,brightness:6},{color:0,brightness:1},{color:0,brightness:1},{color:8,brightness:6},{color:8,brightness:8},{color:0,brightness:1},{color:8,brightness:6},{color:0,brightness:1}],x:[{color:9,brightness:7},{color:0,brightness:1},{color:9,brightness:7},{color:0,brightness:1},{color:9,brightness:9},{color:0,brightness:1},{color:9,brightness:7},{color:0,brightness:1},{color:9,brightness:7}],check:[{color:0,brightness:1},{color:0,brightness:1},{color:6,brightness:8},{color:0,brightness:1},{color:6,brightness:8},{color:6,brightness:6},{color:6,brightness:8},{color:0,brightness:1},{color:0,brightness:1}],dot:[{color:0,brightness:1},{color:0,brightness:1},{color:0,brightness:1},{color:0,brightness:1},{color:10,brightness:10},{color:0,brightness:1},{color:0,brightness:1},{color:0,brightness:1},{color:0,brightness:1}],frame:[{color:3,brightness:6},{color:3,brightness:6},{color:3,brightness:6},{color:3,brightness:6},{color:0,brightness:1},{color:3,brightness:6},{color:3,brightness:6},{color:3,brightness:6},{color:3,brightness:6}]},o=(r[p.toString(e.PATTERN)]||r.dot).map(function(e){return 16*Math.max(1,Math.min(10,e.brightness))+Math.max(0,Math.min(10,e.color))}).map(function(e){return"\\x".concat(e.toString(16).padStart(2,"0"))}).join("");return this._peripheral.sendPythonCommand("import hub; matrix = hub.port.".concat(t,'.device; matrix.mode(2); matrix.mode(2, b"').concat(o,'")'))}},{key:"setMatrix3x3Color",value:function(e){var t=p.toString(e.PORT).trim().toUpperCase(),r=p.toString(e.COLOR);d.clamp(p.toNumber(e.BRIGHTNESS),1,10);var o={off:0,magenta:1,violet:2,blue:3,turquoise:4,mint:5,green:6,yellow:7,orange:8,red:9,white:10}[r]||0;return this._peripheral.sendPythonCommand("import hub; matrix = hub.port.".concat(t,'.device; matrix.mode(1); matrix.mode(1, b"\\x').concat(o.toString(16).padStart(2,"0"),'")'))}},{key:"setMatrix3x3Pixel",value:function(e){var t=p.toString(e.PORT).trim().toUpperCase(),r=d.clamp(p.toNumber(e.X)-1,0,2),o=d.clamp(p.toNumber(e.Y)-1,0,2),i=p.toString(e.COLOR),n=16*d.clamp(p.toNumber(e.BRIGHTNESS),1,10)+({off:0,magenta:1,violet:2,blue:3,turquoise:4,mint:5,green:6,yellow:7,orange:8,red:9,white:10}[i]||0),a=3*o+r,s="\nimport hub\nmatrix = hub.port.".concat(t,".device\nmatrix.mode(2)\n# Create array of current values (or default to off)\ncurrent = [0x01] * 9  # Default: off with brightness 1\ncurrent[").concat(a,"] = 0x").concat(n.toString(16).padStart(2,"0"),"\n# Convert to byte string\nbyte_string = bytes(current)\nmatrix.mode(2, byte_string)\n");return this._peripheral.sendPythonCommand(s)}},{key:"setMatrix3x3Level",value:function(e){var t=p.toString(e.PORT).trim().toUpperCase(),r=d.clamp(p.toNumber(e.LEVEL),0,9);return this._peripheral.sendPythonCommand("import hub; matrix = hub.port.".concat(t,'.device; matrix.mode(0); matrix.mode(0, b"\\x').concat(r.toString(16).padStart(2,"0"),'")'))}},{key:"setMatrix3x3Transition",value:function(e){var t=p.toString(e.PORT).trim().toUpperCase(),r=p.toString(e.EFFECT);return this._peripheral.sendPythonCommand("import hub; matrix = hub.port.".concat(t,'.device; matrix.mode(3, b"\\x').concat(r.padStart(2,"0"),'")'))}},{key:"clearMatrix3x3",value:function(e){var t=p.toString(e.PORT).trim().toUpperCase();return this._peripheral.sendPythonCommand("import hub; matrix = hub.port.".concat(t,'.device; matrix.mode(2); matrix.mode(2, b"\\x01\\x01\\x01\\x01\\x01\\x01\\x01\\x01\\x01")'))}},{key:"whenGesture",value:function(e){return this.isGesture(e)}},{key:"isGesture",value:function(e){var t=p.toString(e.GESTURE);return this._peripheral.gestures[t]||!1}},{key:"getOrientation",value:function(){return["up","front","right","down","back","left"][this._peripheral.orientation]||"unknown"}},{key:"playHubSound",value:function(e){var t=p.toString(e.SOUND);return this._peripheral.sendPythonCommand('import hub; hub.sound.play("/sounds/'.concat(t,'")'))}},{key:"playBeep",value:function(e){var t=p.toNumber(e.FREQUENCY),r=p.toNumber(e.DURATION),o=this._peripheral.sendCommand("scratch.sound_beep",{frequency:t,duration:r}),i=this._peripheral.sendPythonCommand("import hub; hub.sound.beep(".concat(t,", ").concat(r,", hub.sound.SOUND_SIN)"));return o.catch(function(){return i})}},{key:"playNote",value:function(e){var t=p.toNumber(e.NOTE),r=p.toNumber(e.SECS),o=this._noteToFrequency(t),i=this._peripheral.volume/100;return this._peripheral.sendPythonCommand("hub.sound.beep(".concat(Math.round(o),", ").concat(Math.round(1e3*r),", hub.sound.SOUND_SIN, ").concat(i,")"))}},{key:"playWaveBeep",value:function(e){var t=p.toString(e.WAVEFORM),r=p.toNumber(e.FREQUENCY),o=p.toNumber(e.DURATION),i=D[t]||D.sin;return this._peripheral.sendPythonCommand("import hub; hub.sound.beep(".concat(r,", ").concat(o,", ").concat(i,")"))}},{key:"setVolume",value:function(e){var t=p.toNumber(e.VOLUME);return this._peripheral._volume=d.clamp(t,0,100),this._peripheral.sendPythonCommand("hub.sound.volume(".concat(t,")"))}},{key:"stopSound",value:function(){return this._peripheral.stopSound()}},{key:"getBatteryLevel",value:function(){return this._peripheral.battery||100}},{key:"getBatteryTemperature",value:function(){return this._peripheral.temperature||25}},{key:"getHubTemperature",value:function(){return this._peripheral.hubTemp||25}},{key:"getTimer",value:function(){return this._peripheral.timer}},{key:"resetTimer",value:function(){this._peripheral._timer.start=Date.now(),this._peripheral._timer.current=0}},{key:"getDistance",value:function(e){var t=p.toString(e.PORT).trim().toUpperCase(),r=this._peripheral.portValues[t];return r&&"distance"===r.type?r.distance:0}},{key:"setDistanceLights",value:function(e){var t=p.toString(e.PORT).trim().toUpperCase(),r=d.clamp(p.toNumber(e.TL),0,9),o=d.clamp(p.toNumber(e.TR),0,9),i=d.clamp(p.toNumber(e.BL),0,9),n=d.clamp(p.toNumber(e.BR),0,9);return this._peripheral.sendPythonCommand("import hub; dist_sensor = hub.port.".concat(t,".device; dist_sensor.mode(5, bytes([").concat(r,", ").concat(o,", ").concat(i,", ").concat(n,"]))"))}},{key:"getColor",value:function(e){var t=p.toString(e.PORT).trim().toUpperCase(),r=this._peripheral.portValues[t];if(r&&"color"===r.type){return["black","magenta","purple","blue","azure","turquoise","green","yellow","orange","red","white"][r.color]||"none"}return"none"}},{key:"getReflection",value:function(e){var t=p.toString(e.PORT).trim().toUpperCase(),r=this._peripheral.portValues[t];return r&&"color"===r.type&&r.reflection||0}},{key:"getAmbientLight",value:function(e){var t=p.toString(e.PORT).trim().toUpperCase(),r=this._peripheral.portValues[t];return r&&"color"===r.type&&r.ambient||0}},{key:"getForce",value:function(e){var t=p.toString(e.PORT).trim().toUpperCase(),r=this._peripheral.portValues[t];return r&&"force"===r.type&&r.force||0}},{key:"isForceSensorPressed",value:function(e){var t=p.toString(e.PORT).trim().toUpperCase(),r=this._peripheral.portValues[t];return r&&"force"===r.type&&r.pressed||!1}},{key:"whenColor",value:function(e){return this.isColor(e)}},{key:"isColor",value:function(e){var t=p.toString(e.PORT).trim().toUpperCase(),r=p.toString(e.COLOR),o=this._peripheral.portValues[t];if(o&&"color"===o.type){return["black","magenta","purple","blue","azure","turquoise","green","yellow","orange","red","white"][o.color]===r}return!1}},{key:"whenForceSensor",value:function(e){var t=p.toString(e.PORT).trim().toUpperCase(),r=p.toString(e.STATE),o=this._peripheral.portValues[t];if(o&&"force"===o.type)switch(r){case"pressed":return o.pressed;case"hard pressed":return o.force>8;case"released":return!o.pressed}return!1}},{key:"isButtonPressed",value:function(e){var t={left:0,center:1,right:2}[p.toString(e.BUTTON)];return void 0!==t&&1===this._peripheral._sensors.buttons[t]}},{key:"whenButtonPressed",value:function(e){return this.isButtonPressed(e)}},{key:"runReplCommand",value:function(e){var t=p.toString(e.CODE);return this._peripheral.sendReplCommand(t)}},{key:"getReplOutput",value:function(){return this._peripheral.replOutput||""}},{key:"clearReplOutput",value:function(){this._peripheral._replOutput=""}},{key:"getReplHistory",value:function(e){var t=p.toNumber(e.INDEX),r=this._peripheral.replHistory;return-1===t?r[r.length-1]||"":t>=0&&t<r.length&&r[t]||""}},{key:"runPythonCommand",value:function(e){var t=p.toString(e.CODE);return this._peripheral.sendPythonCommand(t)}},{key:"runHubCommand",value:function(e){var t=p.toString(e.CODE),r="import hub; ".concat(t);return this._peripheral.sendPythonCommand(r)}},{key:"exitScript",value:function(){return this._peripheral.sendPythonCommand("raise SystemExit")}},{key:"_playNoteForPicker",value:function(e,t){t===this.getInfo().name&&this.playBeep({FREQUENCY:this._noteToFrequency(e),DURATION:250})}},{key:"_noteToFrequency",value:function(e){return 440*Math.pow(2,(e-69+12)/12)}},{key:"_validatePorts",value:function(e){return e.toUpperCase().replace(/[^ABCDEF]/g,"").split("").filter(function(e,t,r){return r.indexOf(e)===t}).sort()}}],[{key:"EXTENSION_ID",get:function(){return"spikeprime"}},{key:"extensionURL",get:function(){return f},set:function(e){f=e}}])}();h=x,E=!1,(C=t(C="fieldRegistered"))in h?Object.defineProperty(h,C,{value:E,enumerable:!0,configurable:!0,writable:!0}):h[C]=E,exports.blockClass=x;var P={en:{"gui.extension.spikeprime.name":"LEGO Education SPIKE Prime","gui.extension.spikeprime.description":"Build with SPIKE Prime or Robot Inventor (legacy v. 2 firmware with bluetooth classic). Supports motors, sensors, lights, and displays.","gui.extension.spikeprime.connectingMessage":"Connecting to SPIKE Prime..."},de:{"gui.extension.spikeprime.name":"LEGO Education SPIKE Prime","gui.extension.spikeprime.description":"Baue mit SPIKE Prime or Robot Inventor (alte Firmware Version 2.x). Unterstützt Motoren, Sensoren, Lichter und Displays.","gui.extension.spikeprime.connectingMessage":"Verbinde mit SPIKE Prime..."},fr:{"gui.extension.spikeprime.name":"LEGO Education SPIKE Prime","gui.extension.spikeprime.description":"Construisez avec SPIKE Prime ou Robot Inventor (v. 2 firmware). Prend en charge les moteurs, capteurs, lumières et écrans.","gui.extension.spikeprime.connectingMessage":"Connexion à SPIKE Prime..."}},_="data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2240px%22%20height%3D%2240px%22%20viewBox%3D%220%200%2040%2040%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3Espikeprime-small%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22spikeprime-small%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Crect%20id%3D%22body%22%20stroke%3D%22%237C87A5%22%20fill%3D%22%23FFFFFF%22%20x%3D%229.5%22%20y%3D%224.5%22%20width%3D%2221%22%20height%3D%2231%22%20rx%3D%221.5%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22matrix%22%20transform%3D%22translate%2813.000000%2C%2012.000000%29%22%20fill%3D%22%23FFD500%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22d%22%20x%3D%226%22%20y%3D%223%22%20width%3D%222%22%20height%3D%222%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22d-copy%22%20x%3D%229%22%20y%3D%223%22%20width%3D%222%22%20height%3D%222%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22d-copy-3%22%20x%3D%226%22%20y%3D%226%22%20width%3D%222%22%20height%3D%222%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22d-copy-2%22%20x%3D%229%22%20y%3D%226%22%20width%3D%222%22%20height%3D%222%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22d-copy-11%22%20x%3D%220%22%20y%3D%223%22%20width%3D%222%22%20height%3D%222%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22d-copy-10%22%20x%3D%223%22%20y%3D%223%22%20width%3D%222%22%20height%3D%222%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22d-copy-9%22%20x%3D%220%22%20y%3D%226%22%20width%3D%222%22%20height%3D%222%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22d-copy-8%22%20x%3D%223%22%20y%3D%226%22%20width%3D%222%22%20height%3D%222%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22d-copy-15%22%20x%3D%2212%22%20y%3D%223%22%20width%3D%222%22%20height%3D%222%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22d-copy-14%22%20x%3D%223%22%20y%3D%229%22%20width%3D%222%22%20height%3D%222%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22d-copy-13%22%20x%3D%2212%22%20y%3D%226%22%20width%3D%222%22%20height%3D%222%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22d-copy-12%22%20x%3D%226%22%20y%3D%2212%22%20width%3D%222%22%20height%3D%222%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22d-copy-16%22%20x%3D%223%22%20y%3D%220%22%20width%3D%222%22%20height%3D%222%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22d-copy-17%22%20x%3D%229%22%20y%3D%220%22%20width%3D%222%22%20height%3D%222%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22d-copy-5%22%20x%3D%226%22%20y%3D%229%22%20width%3D%222%22%20height%3D%222%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22d-copy-4%22%20x%3D%229%22%20y%3D%229%22%20width%3D%222%22%20height%3D%222%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3Ccircle%20id%3D%22Oval%22%20stroke%3D%22%234C97FF%22%20cx%3D%2226.5%22%20cy%3D%228.5%22%20r%3D%221.5%22%3E%3C%2Fcircle%3E%20%20%20%20%20%20%20%20%3Ccircle%20id%3D%22Oval-Copy%22%20stroke%3D%22%237C87A5%22%20cx%3D%2220%22%20cy%3D%2231%22%20r%3D%222.5%22%3E%3C%2Fcircle%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",N=function(e){return e.defaultMessage},w={get name(){return N({id:"gui.extension.spikeprime.name",default:"LEGO Education SPIKE Prime (BTC)",description:"Name for the SPIKE Prime extension"})},extensionId:"spikeprime",collaborator:"CrispStrobe",iconURL:"data:image/png;base64,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",insetIconURL:_,get description(){return N({id:"gui.extension.spikeprime.description",default:"Build with SPIKE Prime or Robot Inventor (legacy v. 2 firmware with Bluetooth classic).",description:"Description for the SPIKE Prime extension"})},featured:!0,disabled:!1,bluetoothRequired:!0,internetConnectionRequired:!1,launchPeripheralConnectionFlow:!0,useAutoScan:!0,connectionIconURL:"data:image/svg+xml,%3C%3Fxml%20version%3D%221.0%22%20encoding%3D%22UTF-8%22%3F%3E%3Csvg%20width%3D%2279px%22%20height%3D%22123px%22%20viewBox%3D%220%200%2079%20123%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Ctitle%3Espikeprime-illustration%3C%2Ftitle%3E%20%20%20%20%3Cg%20id%3D%22spikeprime-illustration%22%20stroke%3D%22none%22%20stroke-width%3D%221%22%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%20%20%20%20%20%20%20%20%3Cg%20id%3D%22Group%22%20transform%3D%22translate%281.000000%2C%201.000000%29%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle%22%20stroke%3D%22%237C87A5%22%20fill%3D%22%23FFFFFF%22%20x%3D%220%22%20y%3D%220%22%20width%3D%2277%22%20height%3D%22121%22%20rx%3D%225.5%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Ccircle%20id%3D%22Oval%22%20stroke%3D%22%237C87A5%22%20stroke-width%3D%220.5%22%20cx%3D%225.5%22%20cy%3D%225.5%22%20r%3D%223.5%22%3E%3C%2Fcircle%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Ccircle%20id%3D%22Oval-Copy-3%22%20stroke%3D%22%237C87A5%22%20stroke-width%3D%220.5%22%20cx%3D%2271.5%22%20cy%3D%225.5%22%20r%3D%223.5%22%3E%3C%2Fcircle%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Ccircle%20id%3D%22Oval-Copy%22%20stroke%3D%22%237C87A5%22%20stroke-width%3D%220.5%22%20cx%3D%225.5%22%20cy%3D%22115.5%22%20r%3D%223.5%22%3E%3C%2Fcircle%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Ccircle%20id%3D%22Oval-Copy-5%22%20stroke%3D%22%237C87A5%22%20stroke-width%3D%220.5%22%20cx%3D%2271.5%22%20cy%3D%22115.5%22%20r%3D%223.5%22%3E%3C%2Fcircle%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cpath%20d%3D%22M16.5%2C99%20C13.4624339%2C99%2011%2C101.462434%2011%2C104.5%20C11%2C107.537566%2013.4624339%2C110%2016.5%2C110%20C38.5%2C110%2038.5%2C110%2060.5%2C110%20C63.5375661%2C110%2066%2C107.537566%2066%2C104.5%20C66%2C101.462434%2063.5375661%2C99%2060.5%2C99%20C38.5%2C99%2038.5%2C99%2016.5%2C99%20Z%22%20id%3D%22Path%22%20stroke%3D%22%237C87A5%22%20stroke-width%3D%220.5%22%3E%3C%2Fpath%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Ccircle%20id%3D%22Center-Button%22%20stroke%3D%22%237C87A5%22%20stroke-width%3D%221.5%22%20fill%3D%22%23FFFFFF%22%20cx%3D%2238.5%22%20cy%3D%22104.5%22%20r%3D%2210.5%22%3E%3C%2Fcircle%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Ccircle%20id%3D%22Bluetooth%22%20stroke%3D%22%234C97FF%22%20stroke-width%3D%221.5%22%20cx%3D%2260.5%22%20cy%3D%2216.5%22%20r%3D%226.5%22%3E%3C%2Fcircle%3E%20%20%20%20%20%20%20%20%20%20%20%20%3Cg%20id%3D%22matrix%22%20transform%3D%22translate%2812.000000%2C%2034.000000%29%22%20fill%3D%22%23FFD500%22%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle-Copy-24%22%20x%3D%220%22%20y%3D%2211%22%20width%3D%229%22%20height%3D%229%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle-Copy-26%22%20x%3D%2211%22%20y%3D%220%22%20width%3D%229%22%20height%3D%229%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle-Copy-25%22%20x%3D%2211%22%20y%3D%2211%22%20width%3D%229%22%20height%3D%229%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle-Copy-29%22%20x%3D%2222%22%20y%3D%2211%22%20width%3D%229%22%20height%3D%229%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle-Copy-28%22%20x%3D%2233%22%20y%3D%220%22%20width%3D%229%22%20height%3D%229%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle-Copy-27%22%20x%3D%2233%22%20y%3D%2211%22%20width%3D%229%22%20height%3D%229%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle-Copy-31%22%20x%3D%2244%22%20y%3D%2211%22%20width%3D%229%22%20height%3D%229%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle-Copy-42%22%20x%3D%220%22%20y%3D%2222%22%20width%3D%229%22%20height%3D%229%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle-Copy-40%22%20x%3D%2211%22%20y%3D%2222%22%20width%3D%229%22%20height%3D%229%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle-Copy-39%22%20x%3D%2211%22%20y%3D%2233%22%20width%3D%229%22%20height%3D%229%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle-Copy-38%22%20x%3D%2222%22%20y%3D%2222%22%20width%3D%229%22%20height%3D%229%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle-Copy-37%22%20x%3D%2222%22%20y%3D%2233%22%20width%3D%229%22%20height%3D%229%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle-Copy-36%22%20x%3D%2233%22%20y%3D%2222%22%20width%3D%229%22%20height%3D%229%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle-Copy-35%22%20x%3D%2233%22%20y%3D%2233%22%20width%3D%229%22%20height%3D%229%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle-Copy-34%22%20x%3D%2244%22%20y%3D%2222%22%20width%3D%229%22%20height%3D%229%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Crect%20id%3D%22Rectangle-Copy-45%22%20x%3D%2222%22%20y%3D%2244%22%20width%3D%229%22%20height%3D%229%22%3E%3C%2Frect%3E%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%20%20%20%20%3C%2Fg%3E%20%20%20%20%3C%2Fg%3E%3C%2Fsvg%3E",connectionSmallIconURL:_,get connectingMessage(){return N({id:"gui.extension.spikeprime.connectingMessage",default:"Connecting to SPIKE Prime (over BTC SPP)...",description:"Message shown when connecting to SPIKE Prime"})},helpLink:"https://education.lego.com/",setFormatMessage:function(e){N=e},translationMap:P};export{x as blockClass,w as entry};
